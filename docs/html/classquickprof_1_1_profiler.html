<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>vrBuilder: quickprof::Profiler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacequickprof.html">quickprof</a>::<a class="el" href="classquickprof_1_1_profiler.html">Profiler</a>
  </div>
</div>
<div class="contents">
<h1>quickprof::Profiler Class Reference</h1><!-- doxytag: class="quickprof::Profiler" -->
<p>A singleton class that manages timing for a set of profiling blocks.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="quickprof_8h_source.html">quickprof.h</a>&gt;</code></p>

<p><a href="classquickprof_1_1_profiler-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquickprof_1_1_profiler.html#a53b1240186436954cabca9b492f0ab61">init</a> (double smoothing=0.0, const std::string outputFilename=&quot;&quot;, size_t printPeriod=1, <a class="el" href="namespacequickprof.html#a9bd89a54bb92c3d77f445ca65cb4684f">TimeFormat</a> printFormat=MILLISECONDS)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquickprof_1_1_profiler.html#a7606c62bd3c384bfdbce1ff9413693dd">beginBlock</a> (const std::string &amp;name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae93f88872fce78aa5e718c5ac315e68"></a><!-- doxytag: member="quickprof::Profiler::getTime" ref="aae93f88872fce78aa5e718c5ac315e68" args="()" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>getTime</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquickprof_1_1_profiler.html#ae122d033874481835099e7b7f9989642">endBlock</a> (const std::string &amp;name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquickprof_1_1_profiler.html#a158610937cac5c9efcb36534c1c47f76">endCycle</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquickprof_1_1_profiler.html#aeac4d5f0f3c8aab4ca1c51b4ddf7601d">getAvgDuration</a> (const std::string &amp;name, <a class="el" href="namespacequickprof.html#a9bd89a54bb92c3d77f445ca65cb4684f">TimeFormat</a> format)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquickprof_1_1_profiler.html#aa05f7c66bdaa565267235dc76671bf1e">getSummary</a> (<a class="el" href="namespacequickprof.html#a9bd89a54bb92c3d77f445ca65cb4684f">TimeFormat</a> format=PERCENT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aacba1a5bb0e4f400035ee93ba7df7fd8"></a><!-- doxytag: member="quickprof::Profiler::getSortedSummary" ref="aacba1a5bb0e4f400035ee93ba7df7fd8" args="(TimeFormat format=PERCENT)" -->
std::string&nbsp;</td><td class="memItemRight" valign="bottom"><b>getSortedSummary</b> (<a class="el" href="namespacequickprof.html#a9bd89a54bb92c3d77f445ca65cb4684f">TimeFormat</a> format=PERCENT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28c54ae3897dd8c68ee12c9007166e48"></a><!-- doxytag: member="quickprof::Profiler::getClock" ref="a28c54ae3897dd8c68ee12c9007166e48" args="()" -->
<a class="el" href="classquickprof_1_1_clock.html">Clock</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>getClock</b> ()</td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classquickprof_1_1_profiler.html">Profiler</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquickprof_1_1_profiler.html#a9d221771f0638595966bda3585ebe3fa">instance</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A singleton class that manages timing for a set of profiling blocks. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a7606c62bd3c384bfdbce1ff9413693dd"></a><!-- doxytag: member="quickprof::Profiler::beginBlock" ref="a7606c62bd3c384bfdbce1ff9413693dd" args="(const std::string &amp;name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void quickprof::Profiler::beginBlock </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Begins timing the named block of code.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>The name of the block. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae122d033874481835099e7b7f9989642"></a><!-- doxytag: member="quickprof::Profiler::endBlock" ref="ae122d033874481835099e7b7f9989642" args="(const std::string &amp;name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void quickprof::Profiler::endBlock </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Defines the end of the named timing block.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>The name of the block. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a158610937cac5c9efcb36534c1c47f76"></a><!-- doxytag: member="quickprof::Profiler::endCycle" ref="a158610937cac5c9efcb36534c1c47f76" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void quickprof::Profiler::endCycle </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Defines the end of a profiling cycle.</p>
<p>Use this regularly by calling it at the end of all timing blocks. This is necessary for smoothing and for file output, but not if you just want a total summary at the end of execution (i.e. from getSummary). This must not be called within a timing block. </p>

</div>
</div>
<a class="anchor" id="aeac4d5f0f3c8aab4ca1c51b4ddf7601d"></a><!-- doxytag: member="quickprof::Profiler::getAvgDuration" ref="aeac4d5f0f3c8aab4ca1c51b4ddf7601d" args="(const std::string &amp;name, TimeFormat format)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double quickprof::Profiler::getAvgDuration </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacequickprof.html#a9bd89a54bb92c3d77f445ca65cb4684f">TimeFormat</a>&nbsp;</td>
          <td class="paramname"> <em>format</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the average time used in the named block per profiling cycle.</p>
<p>If smoothing is disabled (see init), this returns the most recent duration measurement.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>The name of the block. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>The desired time format to use for the result. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The block's average duration per cycle. </dd></dl>

</div>
</div>
<a class="anchor" id="aa05f7c66bdaa565267235dc76671bf1e"></a><!-- doxytag: member="quickprof::Profiler::getSummary" ref="aa05f7c66bdaa565267235dc76671bf1e" args="(TimeFormat format=PERCENT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string quickprof::Profiler::getSummary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacequickprof.html#a9bd89a54bb92c3d77f445ca65cb4684f">TimeFormat</a>&nbsp;</td>
          <td class="paramname"> <em>format</em> = <code>PERCENT</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns a summary of total times in each block.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>The desired time format to use for the results. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The timing summary as a string. </dd></dl>

</div>
</div>
<a class="anchor" id="a53b1240186436954cabca9b492f0ab61"></a><!-- doxytag: member="quickprof::Profiler::init" ref="a53b1240186436954cabca9b492f0ab61" args="(double smoothing=0.0, const std::string outputFilename=&quot;&quot;, size_t printPeriod=1, TimeFormat printFormat=MILLISECONDS)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void quickprof::Profiler::init </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>smoothing</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string&nbsp;</td>
          <td class="paramname"> <em>outputFilename</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>printPeriod</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacequickprof.html#a9bd89a54bb92c3d77f445ca65cb4684f">TimeFormat</a>&nbsp;</td>
          <td class="paramname"> <em>printFormat</em> = <code>MILLISECONDS</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the profiler.</p>
<p>This must be called first. If this is never called, the profiler is effectively disabled, and all other functions will return immediately.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>smoothing</em>&nbsp;</td><td>The measured duration for each profile block can be averaged across multiple cycles, and this parameter defines the smoothness of this averaging process. The higher the value, the smoother the resulting average durations will appear. Leaving it at zero will essentially disable the smoothing effect. More specifically, this parameter is a time constant (defined in terms of cycles) that defines an exponentially-weighted moving average. For example, a value of 4.0 means the past four cycles will contribute 63% of the current weighted average. This value must be &gt;= 0. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outputFilename</em>&nbsp;</td><td>If defined, enables timing data to be printed to a data file for later analysis. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>printPeriod</em>&nbsp;</td><td>Defines how often data is printed to the file, in number of profiling cycles. For example, set this to 1 if you want data printed after each cycle, or 5 if you want it printed every 5 cycles. It is a good idea to increase this if you don't want huge data files. Keep in mind, however, that when you increase this, you might want to increase the smoothing parameter. (A good heuristic is to set the smoothing parameter equal to the print period.) This value must be &gt;= 1. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>printFormat</em>&nbsp;</td><td>Defines the format used when printing data to a file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9d221771f0638595966bda3585ebe3fa"></a><!-- doxytag: member="quickprof::Profiler::instance" ref="a9d221771f0638595966bda3585ebe3fa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classquickprof_1_1_profiler.html">Profiler</a> &amp; quickprof::Profiler::instance </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Accesses the singleton instance.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The <a class="el" href="classquickprof_1_1_profiler.html" title="A singleton class that manages timing for a set of profiling blocks.">Profiler</a> instance. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/<a class="el" href="quickprof_8h_source.html">quickprof.h</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 29 Jun 2014 for vrBuilder by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
